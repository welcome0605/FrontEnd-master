<ion-list class="document-list">
  <ion-item-divider *virtualHeader="let header" color="light">
    {{ header }}
  </ion-item-divider>
  <ion-item *ngFor="let document of documents" class="document-letter" >
    <div class="sent">
      <ion-icon name="ios-archive-outline" item-left *ngIf="!document.readyToSend && !document.deletedAt "></ion-icon>
      <ion-icon name="ios-paper-plane-outline" item-left *ngIf="document.readyToSend && !document.deletedAt"></ion-icon>
      <ion-icon name="custom-trash-icon" item-left *ngIf="document.deletedAt"></ion-icon>
    </div>
    <h2 (click)="openBrowser(document)">
      {{ document.title }}<span class="unread" *ngIf="!document.openedByUser"></span></h2>
    <p class="date" (click)="openBrowser(document)">{{ document.createdAt | date:"dd.MM.yyyy HH:mm" }}</p>
    <div class="tags" (click)="openBrowser(document)">
      <ion-badge *ngFor="let tag of document.tags | slice:0:3"style="border-radius: 13px">{{ tag.name }}</ion-badge>
    </div>
    <button ion-button clear icon-only item-right color="grey" class="action-menu-button" *ngIf="!document.deletedAt" (click)="openMenu($event, document)">
      <ion-icon ios="md-more" md="md-more"></ion-icon>
    </button>
  </ion-item>
</ion-list>
